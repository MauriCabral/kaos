<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox prefHeight="500" prefWidth="600" spacing="15" stylesheets="@../css/toppings-manager.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.kaos.controller.ToppingController">
    <padding>
        <Insets bottom="20" left="20" right="20" top="20" />
    </padding>

    <!-- TÍTULO -->
    <Label prefHeight="48.0" prefWidth="562.0" styleClass="title-label,title-bar" text="Gestión de Toppings" />

    <!-- FORMULARIO DE AGREGAR/EDITAR -->
    <VBox spacing="10" styleClass="form-container">
        <Label styleClass="form-title" text="Agregar/Editar Topping" />

        <HBox alignment="CENTER_LEFT" spacing="10">
            <VBox spacing="5" HBox.hgrow="ALWAYS">
                <Label styleClass="field-label" text="Nombre:" />
                <TextField fx:id="nameField" promptText="Nombre del topping" styleClass="text-field" />
            </VBox>

            <VBox spacing="5">
                <Label styleClass="field-label" text="Precio:" />
                <TextField fx:id="priceField" promptText="0.00" styleClass="price-field" />
            </VBox>

            <VBox spacing="5">
                <Label styleClass="field-label" text="‎" />
                <HBox spacing="5">
                    <Button fx:id="actionButton" onAction="#handleAddOrUpdate" styleClass="add-btn">
                        <graphic>
                            <Label styleClass="plus-icon" text="+" />
                        </graphic>
                    </Button>
                    <Button fx:id="cancelEditBtn" onAction="#cancelEdit" styleClass="cancel-edit-btn" text="✕" visible="false" />
                </HBox>
            </VBox>
        </HBox>
    </VBox>

    <!-- TABLA DE TOPPINGS -->
    <VBox spacing="8" VBox.vgrow="ALWAYS">
        <Label styleClass="table-title" text="Toppings Existentes" />

        <TableView fx:id="toppingsTable" styleClass="toppings-table" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn styleClass="table-column" text="Nombre">
                    <cellValueFactory>
                        <PropertyValueFactory property="name" />
                    </cellValueFactory>
                </TableColumn>
                <TableColumn styleClass="table-column" text="Precio">
                    <cellValueFactory>
                        <PropertyValueFactory property="price" />
                    </cellValueFactory>
                </TableColumn>
            </columns>
        </TableView>
    </VBox>

    <!-- BOTONES DE ACCIÓN -->
    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Button minWidth="80" onAction="#handleClose" styleClass="cancel-btn" text="Cerrar" />
    </HBox>
</VBox>
